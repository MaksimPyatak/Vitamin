(()=>{"use strict";document.querySelectorAll(".select").forEach((function(e){const t=e,n=t.querySelectorAll("option"),s=n.length;t.style.display="none";const c=document.createElement("div");c.classList.add("select"),t.parentNode.insertBefore(c,t),c.appendChild(t);const l=document.createElement("div");l.classList.add("new-select"),t.insertAdjacentElement("afterend",l);const i=document.createElement("div");i.classList.add("new-select__header"),i.textContent=t.querySelector("option:disabled").textContent,l.setAttribute("tabindex","0"),l.appendChild(i);const a=document.createElement("div");a.classList.add("new-select__list"),i.insertAdjacentElement("afterend",a),i.innerHTML=`\n       <span class="new-select__arrow arrow"></span>\n       ${i.innerHTML}\n   `;for(let e=1;e<s;e++){const t=document.createElement("div");t.classList.add("new-select__item");const s=document.createElement("span");s.textContent=n[e].textContent,t.appendChild(s),t.setAttribute("data-value",n[e].value),a.appendChild(t)}const o=a.querySelectorAll(".new-select__item");a.style.display="none";let d=!1;i.addEventListener("click",(()=>{d||m()})),l.addEventListener("focus",(e=>{d=!d,m(),window.setTimeout((()=>d=!1),100)})),l.addEventListener("blur",(()=>{d=!1,i.classList.remove("on"),a.style.display="none"}));const r=function(e){l.contains(e.target)||(a.style.display="none",i.classList.remove("on"),document.removeEventListener("click",r),function(e,t){for(let t=0;t<e.length;t++)e[t].classList.remove("new-select__item--active")}(o))};function m(){if(i.classList.contains("on"))i.classList.remove("on"),a.style.display="none";else{function e(e){let n=e.getAttribute("data-value");t.value=n,i.innerHTML=` <span class="new-select__arrow arrow"></span>   ${e.querySelector("span").textContent}`,a.style.display="none",i.classList.remove("on"),document.removeEventListener("click",r)}function n(t){if("Enter"===t.key&&"block"===a.style.display){t.preventDefault();for(let t=0;t<o.length;t++){const n=o[t];n.classList.contains("new-select__item--active")&&e(n)}}}i.classList.add("on"),a.style.display="block",document.removeEventListener("keydown",v),document.addEventListener("keydown",v),document.addEventListener("keydown",n),document.addEventListener("click",r),o.forEach((function(t){t.addEventListener("click",(()=>e(t)))}))}}function v(e){"ArrowDown"!==e.key||document.activeElement!=(l||i)&&document.activeElement.parentElement!==a?"ArrowUp"!==e.key||document.activeElement!=(l||i)&&document.activeElement.parentElement!==a||(e.preventDefault(),void 0===u?(u=o.length-1,o[u].classList.add("new-select__item--active")):u>0?(o[u].classList.remove("new-select__item--active"),u--,o[u].classList.add("new-select__item--active")):(o[u].classList.remove("new-select__item--active"),u=o.length-1,o[u].classList.add("new-select__item--active"))):(e.preventDefault(),null==u?(u=0,o[u].classList.add("new-select__item--active")):u<o.length-1?(o[u].classList.remove("new-select__item--active"),u++,o[u].classList.add("new-select__item--active")):(o[u].classList.remove("new-select__item--active"),u=0,o[u].classList.add("new-select__item--active")))}let u}))})();