(()=>{"use strict";document.querySelector("#file").addEventListener("change",(function(t){console.log(t.target.files[0]),document.querySelector(".add-file__info").innerHTML=t.target.files[0].name})),new class{constructor(t,e,s){this.tabsClass=t,this.tabClass=e,this.objectClass=s}#t=null;#e=null;#s=null;#n=null;#a=null;#i(){this.#t=document.querySelector(`.${this.tabsClass}`),this.#t?(this.#e=this.#t.getElementsByClassName(this.tabClass),this.#n=this.#t.dataset.classForTab,this.#a=this.#t.dataset.classForObj):console.log(`Element containing class ${this.tabsClass} not found.`),this.#s=document.querySelector(`.${this.objectClass}`)}addListener(){this.#i(),this.#t.addEventListener("click",(t=>this.#l(t)))}#l(t){let e=t.target.closest(`.${this.tabClass}`);e&&this.#t.contains(e)&&(this.#r(),this.#o(e))}#r(){this.#s?this.#a?(this.#s.classList.toggle(this.#a),this.#u(this.#s)):console.log(`There are no data-${this.#a} in the ${this.#t}`):console.log(`Element containing class ${this.objectClass} not found.`)}#o(t){if(this.#n)for(const t of this.#e)t.classList.remove(this.#n);else console.log(`There are no data-${this.#n} in the ${this.#t}`);t.classList.add(this.#n)}#u(t){let e=t.querySelectorAll("input","select","textarea");if(e.length)for(let t=0;t<e.length;t++){const s=e[t];let n=s.disabled;s.disabled=!n}}}("tabs","tabs__tab","add-file").addListener();const t={},e=document.forms.sign_up,s=e.elements,n=new class{constructor(t){this.form=t}errorFilds=document.querySelectorAll(".error");emailRegExp=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/;validation(t=this.form){let e=null;for(let s=0;s<t.elements.length;s++){const n=t.elements[s];let a=n.name+"Test";n.disabled?e++:"function"==typeof this[a]?e+=this[a](n):e++}return e===t.elements.length&&(console.log("Succses!"),!0)}blurValidation(t=this.form){for(let e=0;e<t.elements.length;e++){const s=t.elements[e];if("file"==s.name)break;s.addEventListener("blur",(t=>{"function"==typeof this[s.name+"Test"]&&this[s.name+"Test"](t.target)}))}}backgroundValdation(t=this.form){let e=0;for(let s=0;s<t.elements.length;s++){const n=t.elements[s];n.disabled?e++:"function"==typeof this[n.name+"ValidationForBtn"]?e+=this[n.name+"ValidationForBtn"](n)?1:0:e++}return e==t.elements.length}emailTest(t){if(0===t.value.length){const e="Email can't be blank";return this.isError(e,t),t.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}if(this.emailRegExp.test(t.value))return t.classList.remove("input-error"),this.removeError(t),1;{const e="Email is invalid";return this.isError(e,t),t.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}}emailValidationForBtn(t){return!!this.emailRegExp.test(t.value)}firstTest(t){if(0===t.value.length){const e="Fild can't be blank";return this.isError(e,t),t.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}if(t.value.length<3||t.value.length>15){const e="Fild must be at least 3 and no longer than 15 characters";return this.isError(e,t),t.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}return t.classList.remove("input-error"),this.removeError(t),1}firstValidationForBtn(t){return t.value.length>=3&&t.value.length<=15}lastTest(t){return this.firstTest(t)}lastValidationForBtn(t){return this.firstValidationForBtn(t)}passwordTest(t){if(0===t.value.length){const e="Password can't be blank";return this.isError(e,t),t.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}if(t.value.length<6||t.value.length>15){const e="Password must be at least 6 and no longer than 15 characters";return this.isError(e,t),t.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}return t.classList.remove("input-error"),this.removeError(t),1}passwordValidationForBtn(t){return t.value.length>=6&&t.value.length<=15}fileTest(t,e=this.form){let s,n=t.closest(".input-file-wrapper");if(e.contains(n)||(n=t),t.files.length&&(s=t.files[0].name.split(".").pop().toLowerCase()),0==t.files.length){const e="File must be attached";return this.isError(e,t),n.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}if(["jpg","jpeg","png","gif","bmp","pdf"].includes(s))return n.classList.remove("input-error"),this.removeError(t),1;{const e="File must be image or PDF";return this.isError(e,t),n.classList.add("input-error"),t.addEventListener("input",(e=>this[t.name+"Test"](t))),null}}fileValidationForBtn(t){let e;return t.files.length&&(e=t.files[0].name.split(".").pop().toLowerCase()),!(0===t.value.length||!["jpg","jpeg","png","gif","bmp","pdf"].includes(e))}isError(t,e){this.errorFilds.forEach((s=>{if(s.id=="error-"+e.name){let e=s.innerHTML;return s.innerHTML=t,e}}))}removeError(t){this.errorFilds.forEach((e=>{e.id=="error-"+t.name&&(e.innerHTML="")}))}}(e),a=e.querySelector(".sign-up__submit");n.blurValidation();for(let t=0;t<e.elements.length;t++)e.elements[t].addEventListener("input",i);function i(){n.backgroundValdation()?a.classList.remove("no-active-button"):a.classList.add("no-active-button")}e.addEventListener("submit",(function(e){e.preventDefault(),n.validation()&&(t.email=s.email.value,t.first_name=s.first.value,t.last_name=s.last.value,t.password=s.password.value,t.filePath=s.file.path,t.wholesale=!s.file.disabled),a.disabled=!0,console.log(t),a.disabled=!1}))})();